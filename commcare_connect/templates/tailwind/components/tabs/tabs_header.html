<div x-data="{ activeTab: 0 }" class="h-14 flex gap-x-4 bg-white text-gray-400 rounded-lg shadow-sm px-4 mb-2 w-full items-center"
hx-get="/a/test-1/opportunity/1/tw/tables/flagged_workers"
hx-target="#flagged-worker-table-container"
hx-swap="innerHTML"
hx-trigger="load"
>
  {% for tab in tabs %}
  <div
    class="relative cursor-pointer text-sm h-full flex items-center"
    :class="{'text-brand-deep-purple font-medium': activeTab === {{ forloop.counter0 }} }"
    @click="activeTab = {{ forloop.counter0 }}"
    hx-get="{{tab.url}}"
    hx-target="#flagged-worker-table-container"
    hx-swap="innerHTML"
    hx-trigger="click"
  >
    <span>{{ tab.name }}</span>
    <span x-show="activeTab === {{ forloop.counter0 }}" class="ml-1">({{ tab.count }})</span>
    <div
      x-cloak
      class="absolute bottom-0 left-1/2 -translate-x-1/2 w-10 h-1.5 bg-brand-mango rounded-t-lg"
      x-show="activeTab === {{ forloop.counter0 }}"
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0 translate-y-1"
      x-transition:enter-end="opacity-100 translate-y-0"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100 translate-y-0"
      x-transition:leave-end="opacity-0 translate-y-1"
    ></div>
  </div>
  {% endfor %}
</div>
